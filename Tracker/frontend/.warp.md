# Frontend Development Rules

## ğŸ¯ FRONTEND-SPECIFIC GUIDELINES

### When to Work in Frontend Directory

You should be working in `frontend/src/` when building:

#### âœ… UI Components & Pages
- React components (buttons, forms, modals)
- Page layouts and navigation
- Responsive design implementations
- Interactive user interfaces

#### âœ… Client-Side Features
- Form validation and user input handling
- Client-side routing and navigation
- Authentication flows and user sessions
- Real-time UI updates and notifications

#### âœ… Frontend Services
- API client functions
- Authentication state management
- Local storage handling
- Frontend caching strategies

## ğŸ“ FRONTEND DIRECTORY STRUCTURE

```
frontend/src/
â”œâ”€â”€ components/          # Reusable UI components
â”‚   â”œâ”€â”€ Layout.tsx      # Main app layout
â”‚   â”œâ”€â”€ Button.tsx      # Button component
â”‚   â””â”€â”€ forms/          # Form components
â”œâ”€â”€ pages/              # Page components (routes)
â”‚   â”œâ”€â”€ LandingPage.tsx # Homepage
â”‚   â”œâ”€â”€ Dashboard.tsx   # Main dashboard
â”‚   â””â”€â”€ auth/           # Auth-related pages
â”œâ”€â”€ services/           # API and external services
â”‚   â”œâ”€â”€ api.ts         # HTTP client
â”‚   â”œâ”€â”€ auth.ts        # Authentication
â”‚   â””â”€â”€ storage.ts     # Local storage utilities
â”œâ”€â”€ hooks/              # Custom React hooks
â”‚   â”œâ”€â”€ useAuth.ts     # Authentication hook
â”‚   â””â”€â”€ useApi.ts      # API hooks
â”œâ”€â”€ utils/              # Frontend utilities
â”‚   â”œâ”€â”€ formatters.ts  # Data formatting
â”‚   â””â”€â”€ validators.ts  # Form validation
â”œâ”€â”€ types/              # TypeScript type definitions
â”‚   â””â”€â”€ index.ts       # API response types
â””â”€â”€ assets/             # Styles and static files
    â””â”€â”€ index.css      # Global styles
```

## ğŸ› ï¸ DEVELOPMENT WORKFLOW

### Starting Frontend Development

```bash
cd /Users/johnliddy/sales-tax-tracker
npm run dev  # Starts both frontend and backend

# OR frontend only:
cd frontend && npm run dev
```

### Adding New Components

1. Create component file in `frontend/src/components/`
2. Export from component file
3. Import and use in pages or other components

Example:
```typescript
// frontend/src/components/Button.tsx
export default function Button({ children, onClick, variant = 'primary' }) {
  return (
    <button 
      onClick={onClick}
      className={`btn-${variant}`}
    >
      {children}
    </button>
  );
}
```

### Adding New Pages

1. Create page component in `frontend/src/pages/`
2. Add route to `frontend/src/App.tsx`
3. Update navigation if needed

Example:
```typescript
// frontend/src/pages/NewPage.tsx
export default function NewPage() {
  return (
    <Layout>
      <h1>New Page</h1>
    </Layout>
  );
}

// Update frontend/src/App.tsx
<Route path="/new-page" element={<NewPage />} />
```

### API Integration

Always use the centralized API service:

```typescript
// frontend/src/services/api.ts
export const myApi = {
  getData: () => apiService.get('/my-endpoint'),
  postData: (data) => apiService.post('/my-endpoint', data),
};

// In components:
import { myApi } from '@/services/api';

const data = await myApi.getData();
```

## ğŸ¨ STYLING RULES

### Tailwind CSS Guidelines

- Use Tailwind utility classes for styling
- Custom components go in `frontend/src/assets/index.css`
- Use the `brand-blue` color scheme for consistency

```jsx
// Good: Using Tailwind utilities
<div className="bg-brand-blue-600 text-white p-4 rounded-lg">

// Good: Custom component class
<button className="btn-primary">

// Avoid: Inline styles
<div style={{ backgroundColor: 'blue' }}>
```

### Responsive Design

Always implement mobile-first responsive design:

```jsx
<div className="w-full md:w-1/2 lg:w-1/3">
  <div className="p-4 md:p-6 lg:p-8">
    Content
  </div>
</div>
```

## ğŸ” AUTHENTICATION RULES

### Using Auth0

Authentication is handled by the Auth0 service:

```typescript
import { authService } from '@/services/auth';

// In components:
const isAuthenticated = await authService.isAuthenticated();
const user = await authService.getUser();

// For login/logout:
await authService.login();
await authService.logout();
```

### Protected Routes

Use the Layout component which handles authentication state:

```typescript
// Authenticated routes automatically show user info
// Public routes show login button
```

## ğŸ“± STATE MANAGEMENT

### React State

- Use `useState` for component-level state
- Use `useEffect` for side effects
- Create custom hooks for reusable logic

```typescript
// Custom hook example
export function useAuth() {
  const [user, setUser] = useState(null);
  const [isAuthenticated, setIsAuthenticated] = useState(false);
  
  useEffect(() => {
    // Auth logic here
  }, []);
  
  return { user, isAuthenticated };
}
```

## ğŸ§ª TESTING FRONTEND CODE

### Type Checking

```bash
cd frontend
npm run type-check
```

### Linting

```bash
cd frontend
npm run lint
```

### Manual Testing

- Frontend dev server: http://localhost:3001
- Test different screen sizes
- Test authentication flows
- Verify API integration

## ğŸš¨ FRONTEND-SPECIFIC RULES

### DO:
- âœ… Use TypeScript for all components
- âœ… Implement responsive design
- âœ… Use the centralized API service
- âœ… Follow component naming conventions
- âœ… Handle loading and error states
- âœ… Use proper semantic HTML

### DON'T:
- âŒ Make direct API calls without the API service
- âŒ Hardcode API URLs or ports
- âŒ Ignore TypeScript errors
- âŒ Create components without proper typing
- âŒ Skip error handling in components
- âŒ Use inline styles instead of Tailwind

## ğŸ“‹ FRONTEND DEVELOPMENT CHECKLIST

Before committing frontend changes:

1. âœ… TypeScript compilation passes (`npm run type-check`)
2. âœ… ESLint rules pass (`npm run lint`)
3. âœ… Component renders correctly in browser
4. âœ… Responsive design works on mobile/desktop
5. âœ… Authentication states work correctly
6. âœ… API calls return expected data
7. âœ… Loading and error states are handled
8. âœ… No console errors in browser

---

**Remember**: Frontend code affects what users see and interact with. Always test in the browser!
