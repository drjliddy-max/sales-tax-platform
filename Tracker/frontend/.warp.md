# Frontend Development Rules

## 🎯 FRONTEND-SPECIFIC GUIDELINES

### When to Work in Frontend Directory

You should be working in `frontend/src/` when building:

#### ✅ UI Components & Pages
- React components (buttons, forms, modals)
- Page layouts and navigation
- Responsive design implementations
- Interactive user interfaces

#### ✅ Client-Side Features
- Form validation and user input handling
- Client-side routing and navigation
- Authentication flows and user sessions
- Real-time UI updates and notifications

#### ✅ Frontend Services
- API client functions
- Authentication state management
- Local storage handling
- Frontend caching strategies

## 📁 FRONTEND DIRECTORY STRUCTURE

```
frontend/src/
├── components/          # Reusable UI components
│   ├── Layout.tsx      # Main app layout
│   ├── Button.tsx      # Button component
│   └── forms/          # Form components
├── pages/              # Page components (routes)
│   ├── LandingPage.tsx # Homepage
│   ├── Dashboard.tsx   # Main dashboard
│   └── auth/           # Auth-related pages
├── services/           # API and external services
│   ├── api.ts         # HTTP client
│   ├── auth.ts        # Authentication
│   └── storage.ts     # Local storage utilities
├── hooks/              # Custom React hooks
│   ├── useAuth.ts     # Authentication hook
│   └── useApi.ts      # API hooks
├── utils/              # Frontend utilities
│   ├── formatters.ts  # Data formatting
│   └── validators.ts  # Form validation
├── types/              # TypeScript type definitions
│   └── index.ts       # API response types
└── assets/             # Styles and static files
    └── index.css      # Global styles
```

## 🛠️ DEVELOPMENT WORKFLOW

### Starting Frontend Development

```bash
cd /Users/johnliddy/sales-tax-tracker
npm run dev  # Starts both frontend and backend

# OR frontend only:
cd frontend && npm run dev
```

### Adding New Components

1. Create component file in `frontend/src/components/`
2. Export from component file
3. Import and use in pages or other components

Example:
```typescript
// frontend/src/components/Button.tsx
export default function Button({ children, onClick, variant = 'primary' }) {
  return (
    <button 
      onClick={onClick}
      className={`btn-${variant}`}
    >
      {children}
    </button>
  );
}
```

### Adding New Pages

1. Create page component in `frontend/src/pages/`
2. Add route to `frontend/src/App.tsx`
3. Update navigation if needed

Example:
```typescript
// frontend/src/pages/NewPage.tsx
export default function NewPage() {
  return (
    <Layout>
      <h1>New Page</h1>
    </Layout>
  );
}

// Update frontend/src/App.tsx
<Route path="/new-page" element={<NewPage />} />
```

### API Integration

Always use the centralized API service:

```typescript
// frontend/src/services/api.ts
export const myApi = {
  getData: () => apiService.get('/my-endpoint'),
  postData: (data) => apiService.post('/my-endpoint', data),
};

// In components:
import { myApi } from '@/services/api';

const data = await myApi.getData();
```

## 🎨 STYLING RULES

### Tailwind CSS Guidelines

- Use Tailwind utility classes for styling
- Custom components go in `frontend/src/assets/index.css`
- Use the `brand-blue` color scheme for consistency

```jsx
// Good: Using Tailwind utilities
<div className="bg-brand-blue-600 text-white p-4 rounded-lg">

// Good: Custom component class
<button className="btn-primary">

// Avoid: Inline styles
<div style={{ backgroundColor: 'blue' }}>
```

### Responsive Design

Always implement mobile-first responsive design:

```jsx
<div className="w-full md:w-1/2 lg:w-1/3">
  <div className="p-4 md:p-6 lg:p-8">
    Content
  </div>
</div>
```

## 🔐 AUTHENTICATION RULES

### Using Auth0

Authentication is handled by the Auth0 service:

```typescript
import { authService } from '@/services/auth';

// In components:
const isAuthenticated = await authService.isAuthenticated();
const user = await authService.getUser();

// For login/logout:
await authService.login();
await authService.logout();
```

### Protected Routes

Use the Layout component which handles authentication state:

```typescript
// Authenticated routes automatically show user info
// Public routes show login button
```

## 📱 STATE MANAGEMENT

### React State

- Use `useState` for component-level state
- Use `useEffect` for side effects
- Create custom hooks for reusable logic

```typescript
// Custom hook example
export function useAuth() {
  const [user, setUser] = useState(null);
  const [isAuthenticated, setIsAuthenticated] = useState(false);
  
  useEffect(() => {
    // Auth logic here
  }, []);
  
  return { user, isAuthenticated };
}
```

## 🧪 TESTING FRONTEND CODE

### Type Checking

```bash
cd frontend
npm run type-check
```

### Linting

```bash
cd frontend
npm run lint
```

### Manual Testing

- Frontend dev server: http://localhost:3001
- Test different screen sizes
- Test authentication flows
- Verify API integration

## 🚨 FRONTEND-SPECIFIC RULES

### DO:
- ✅ Use TypeScript for all components
- ✅ Implement responsive design
- ✅ Use the centralized API service
- ✅ Follow component naming conventions
- ✅ Handle loading and error states
- ✅ Use proper semantic HTML

### DON'T:
- ❌ Make direct API calls without the API service
- ❌ Hardcode API URLs or ports
- ❌ Ignore TypeScript errors
- ❌ Create components without proper typing
- ❌ Skip error handling in components
- ❌ Use inline styles instead of Tailwind

## 📋 FRONTEND DEVELOPMENT CHECKLIST

Before committing frontend changes:

1. ✅ TypeScript compilation passes (`npm run type-check`)
2. ✅ ESLint rules pass (`npm run lint`)
3. ✅ Component renders correctly in browser
4. ✅ Responsive design works on mobile/desktop
5. ✅ Authentication states work correctly
6. ✅ API calls return expected data
7. ✅ Loading and error states are handled
8. ✅ No console errors in browser

---

**Remember**: Frontend code affects what users see and interact with. Always test in the browser!
